import{_ as o,c as r,a as e,b as n,t as i,e as s,o as a}from"./app.e1882757.js";const f=JSON.parse('{"title":"AWS RDS Instance","description":"","frontmatter":{"title":"AWS RDS Instance"},"headers":[{"level":2,"title":"Monitor Specs","slug":"monitor-specs","link":"#monitor-specs","children":[]},{"level":2,"title":"Description","slug":"description","link":"#description","children":[]},{"level":2,"title":"Setup (In a Nutshell)","slug":"setup-in-a-nutshell","link":"#setup-in-a-nutshell","children":[]},{"level":2,"title":"Setup (Detailed Steps)","slug":"setup-detailed-steps","link":"#setup-detailed-steps","children":[{"level":3,"title":"1. Pre-requisites","slug":"_1-pre-requisites","link":"#_1-pre-requisites","children":[]},{"level":3,"title":"2. Monitor Configuration","slug":"_2-monitor-configuration","link":"#_2-monitor-configuration","children":[]},{"level":3,"title":"3. Monitor Registration","slug":"_3-monitor-registration","link":"#_3-monitor-registration","children":[]}]},{"level":2,"title":"Result","slug":"result","link":"#result","children":[]}],"relativePath":"monitors/shared/awsrdspersistent.md","lastUpdated":1669074213000}'),u={name:"monitors/shared/awsrdspersistent.md"},l={id:"frontmatter-title",tabindex:"-1"},c=e("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),d=s(`<h2 id="monitor-specs" tabindex="-1">Monitor Specs <a class="header-anchor" href="#monitor-specs" aria-hidden="true">#</a></h2><p>Name (<code>monitor_logical_name</code>)</p><p>: <code>awsrdspersistent</code></p><p>Description</p><p>: AWS RDS Instance Monitor</p><p>Steps</p><p>: <code>PingCustomInstance</code></p><p>Extra Configuration</p><p>: <code>address</code> - host name/address of the instance</p><p>: <code>dbname</code> - name of database to ping</p><p>: <code>engine</code> - &quot;postgres&quot; | any other value will default to &quot;mysql&quot; <a href="https://metrist.io/contact/" target="_blank" rel="noreferrer">(Contact us to support other engines.)</a></p><p>: <code>password</code> - a password</p><p>: <code>port</code> - a number</p><p>: <code>user</code> - a username</p><h2 id="description" tabindex="-1">Description <a class="header-anchor" href="#description" aria-hidden="true">#</a></h2><p>Our customers often use our <code>awsrds</code> monitor to observe the general health of AWS RDS services, but use this <code>awsrdspersistent</code> monitor to observe the health of a specific, running instance of an AWS RDS database.</p><h2 id="setup-in-a-nutshell" tabindex="-1">Setup (In a Nutshell) <a class="header-anchor" href="#setup-in-a-nutshell" aria-hidden="true">#</a></h2><p>To monitor the health of your own instance of an AWS RDS database:</p><ol><li>Install Metrist Orchestrator in your own environment.</li><li>Configure Metrist Orchestrator with your Metrist API Token and the Extra Configuration required for this specific monitor.</li><li>Register the monitor using Metrist Monitor API.</li><li>Observe the monitor in your <a href="http://Metrist.io" target="_blank" rel="noreferrer">Metrist.io</a> account.</li></ol><h2 id="setup-detailed-steps" tabindex="-1">Setup (Detailed Steps) <a class="header-anchor" href="#setup-detailed-steps" aria-hidden="true">#</a></h2><h3 id="_1-pre-requisites" tabindex="-1">1. Pre-requisites <a class="header-anchor" href="#_1-pre-requisites" aria-hidden="true">#</a></h3><ol><li>A <a href="http://Metrist.io" target="_blank" rel="noreferrer">Metrist.io</a> account. <ul><li>If someone in your team already has a Metrist account, <a href="/guides/web-app-invites.html">they can invite you</a>.</li><li>Or <a href="https://app.metrist.io/login/signup" target="_blank" rel="noreferrer">create a new account</a>.</li></ul></li><li>Metrist Orchestrator. <ul><li>Follow these <a href="/guides/orchestrator-installation.html">installation instructions</a> to get Orchestator running on your own device.</li></ul></li></ol><p>At this point, you have running instance of Orchestrator and will have set up at least these environment variables:</p><ul><li><code>METRIST_API_TOKEN</code></li><li><code>METRIST_INSTANCE_ID</code></li><li><code>METRIST_RUN_GROUPS</code></li></ul><h3 id="_2-monitor-configuration" tabindex="-1">2. Monitor Configuration <a class="header-anchor" href="#_2-monitor-configuration" aria-hidden="true">#</a></h3><p>With a Metrist account and Orchestrator installed, you are ready to configure Orchestrator for use with <code>awsrdspersistent</code> monitor.</p><ol><li><p>In the environment where your Orchestrator is installed, add the following environment variables.</p><ul><li><p>Example:</p><pre><code>  \`\`\`
  METRIST_AWSRDSPERSISTENT_ADDRESS=your.ip.or.domain.name
  METRIST_AWSRDSPERSISTENT_DBNAME=yourdbname
  METRIST_AWSRDSPERSISTENT_ENGINE=postgres
  METRIST_AWSRDSPERSISTENT_PASSWORD=123abc
  METRIST_AWSRDSPERSISTENT_PORT=123456
  METRIST_AWSRDSPERSISTENT_USER=your_username
  \`\`\`
</code></pre></li></ul></li></ol><blockquote><p>Note: These values are never transmitted to Metrist \u2014 they are never exposed outside your environment.</p></blockquote><p>(You can start running Orchestrator now?)</p><h3 id="_3-monitor-registration" tabindex="-1">3. Monitor Registration <a class="header-anchor" href="#_3-monitor-registration" aria-hidden="true">#</a></h3><p>With monitor configuration now available in your local instance of Orchestrator, the last step is to inform Metrist of your monitor. Metrist will then run schedule the appropriate tests and record the relevant telemetry data (e.g., \u201Corchestrate\u201D).</p><ol><li><p>In the following code, adjust the values of <code>timeout_secs</code>, <code>interval_secs</code>, and <code>run_groups</code> to suit your needs. <code>run_groups</code> must include at least 1 value in the list defined in METRIST_RUN_GROUPS environment variable. Leave all other values as they are defined below.</p><pre><code> \`\`\`
 {
 	&quot;monitor_logical_name&quot;: &quot;awsrdspersistent&quot;,
 	&quot;interval_secs&quot;: 120,
 	&quot;run_groups&quot;: [&quot;match-one&quot;, &quot;or-more&quot;, &quot;run-groups&quot;],
 	&quot;run_spec&quot;: {
 		&quot;name&quot;: &quot;awsrdspersistent&quot;,
 		&quot;run_type&quot;: &quot;exe&quot;
 	},
 	&quot;steps&quot;: [
 		{
 			&quot;check_logical_name&quot;: &quot;PingInstance&quot;,
 			&quot;timeout_secs&quot;: 900
 		}
 	]
 }
 \`\`\`
</code></pre></li><li><p>Convert it a json string, get your Metrist API Token and use it in the curl request below:</p><pre><code> \`\`\`
 json=&quot;{\\&quot;monitor_logical_name\\&quot;:\\&quot;awsrdspersistent\\&quot;,\\&quot;interval_secs\\&quot;:120,\\&quot;run_groups\\&quot;:[\\&quot;match-one\\&quot;,\\&quot;or-more\\&quot;,\\&quot;run-groups\\&quot;],\\&quot;run_spec\\&quot;:{\\&quot;name\\&quot;:\\&quot;awsrdspersistent\\&quot;,\\&quot;run_type\\&quot;:\\&quot;exe\\&quot;},\\&quot;steps\\&quot;:[{\\&quot;check_logical_name\\&quot;:\\&quot;PingInstance\\&quot;,\\&quot;timeout_secs\\&quot;:900}]}&quot;

 my_token=your_token

 echo $json
 echo $my_token

 curl -d $json -H &quot;Content-Type: application/json&quot; -H &quot;Authorization: Bearer $my_token&quot; &#39;https://app.metrist.io/api/v0/monitor-config&#39;

 \`\`\`
</code></pre></li></ol><p>That code should return a key such as <code>11zLBF1eZq9g3wZh86nYXV8</code>.</p><blockquote><p>Tip: <a href="/tools/api.html">API</a> documentation describes how to delete/remove the monitor.</p></blockquote><h2 id="result" tabindex="-1">Result <a class="header-anchor" href="#result" aria-hidden="true">#</a></h2><p>Metrist now runs the <code>awsrdspersistent</code> monitor through your Orchestrator. Telemetry data collected is visible at <a href="https://app.metrist.io" target="_blank" rel="noreferrer">app.metrio.io</a>.</p>`,36);function p(t,h,m,_,q,g){return a(),r("div",null,[e("h1",l,[n(i(t.$frontmatter.title)+" ",1),c]),d])}const T=o(u,[["render",p]]);export{f as __pageData,T as default};
